2025-08-11 19:57:26,943 - INFO - Load pretrained SentenceTransformer: BAAI/bge-m3
INFO:     Started server process [31353]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [31353]
2025-08-11 19:58:02,455 - INFO - Load pretrained SentenceTransformer: BAAI/bge-m3
INFO:     Started server process [31661]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     10.42.16.233:45452 - "GET / HTTP/1.1" 404 Not Found
INFO:     10.42.16.233:45452 - "GET / HTTP/1.1" 404 Not Found
INFO:     10.42.16.233:39450 - "GET / HTTP/1.1" 404 Not Found
INFO:     10.42.16.233:36960 - "GET / HTTP/1.1" 404 Not Found
INFO:     10.42.16.233:36960 - "GET / HTTP/1.1" 404 Not Found
INFO:     10.42.16.233:36960 - "GET / HTTP/1.1" 404 Not Found
INFO:     10.42.16.233:52976 - "GET / HTTP/1.1" 404 Not Found
INFO:     10.42.16.233:52976 - "GET /api/v1/hackrx/run HTTP/1.1" 405 Method Not Allowed
2025-08-11 21:11:24,132 - INFO - Document Link: https://hackrx.blob.core.windows.net/assets/Test%20/TG_NIAPOLICYCLAUSEDOCTG%201.PDF?sv=2023-01-03&spr=https&st=2025-08-11T16%3A50%3A58Z&se=2026-08-12T16%3A50%3A00Z&sr=b&sp=r&sig=acEgS1n5v7ZJCwjbBzgKGohHSUAkmLAjhvYidNhHeDo%3D
2025-08-11 21:11:24,133 - INFO - Questions: ['Describe the timeline for claim settlement or rejection, including penalties for delays and the handling of document deficiencies.', 'What documents are required for notice of claim, and how does the waiver provision for delayed intimation work?', 'What are the conditions and limitations for the optional maternity expenses benefit extension, including waiting periods and exclusions?', "How are claims handled if medical expenses span two policy periods, and what is the company's stance on repudiation?"]
/root/Rag_endpoint_v2/.venv/lib/python3.13/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `XLMRobertaSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
2025-08-11 21:11:32,508 - INFO - HTTP Request: POST https://bajaj-mini-resource.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2025-01-01-preview "HTTP/1.1 200 OK"
/root/Rag_endpoint_v2/.venv/lib/python3.13/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `XLMRobertaSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
2025-08-11 21:11:39,749 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/chat/completions "HTTP/1.1 200 OK"
2025-08-11 21:11:40,515 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/chat/completions "HTTP/1.1 200 OK"
2025-08-11 21:11:40,805 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/chat/completions "HTTP/1.1 200 OK"
2025-08-11 21:11:43,264 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/chat/completions "HTTP/1.1 200 OK"
received 2025-08-11 21:11:24.132804
https://hackrx.blob.core.windows.net/assets/Test%20/TG_NIAPOLICYCLAUSEDOCTG%201.PDF?sv=2023-01-03&spr=https&st=2025-08-11T16%3A50%3A58Z&se=2026-08-12T16%3A50%3A00Z&sr=b&sp=r&sig=acEgS1n5v7ZJCwjbBzgKGohHSUAkmLAjhvYidNhHeDo%3D
['Describe the timeline for claim settlement or rejection, including penalties for delays and the handling of document deficiencies.', 'What documents are required for notice of claim, and how does the waiver provision for delayed intimation work?', 'What are the conditions and limitations for the optional maternity expenses benefit extension, including waiting periods and exclusions?', "How are claims handled if medical expenses span two policy periods, and what is the company's stance on repudiation?"]
28
INFO:     10.42.16.233:44080 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-11 21:11:43,278 - INFO - Submitting document for analysis
2025-08-11 21:11:45,558 - INFO - Document Link: https://hackrx.blob.core.windows.net/assets/Test%20/image%20(1).png?sv=2023-01-03&spr=https&st=2025-08-11T16%3A54%3A36Z&se=2026-08-12T16%3A54%3A00Z&sr=b&sp=r&sig=d5zWWItc5pGsRLn8Y4%2Bp5FNndQXfXBGyR22RofrX9Fc%3D
2025-08-11 21:11:45,558 - INFO - Questions: ['രാഹുൽ ഗാന്ധി ഏതു വിഷയത്തിൽ ജനങ്ങളോട് അഭ്യർത്ഥിച്ചു?', '"വോട്ട് കൊള്ള" സംബന്ധിച്ച് നൽകിയിരിക്കുന്ന ഓൺലൈൻ ലിങ്ക് ഏതാണ്?']
2025-08-11 21:11:45,806 - INFO - AFC is enabled with max remote calls: 10.
2025-08-11 21:11:46,618 - INFO - Waiting for analysis to complete.
2025-08-11 21:11:49,521 - INFO - Waiting for analysis to complete.
2025-08-11 21:11:52,434 - INFO - Waiting for analysis to complete.
2025-08-11 21:11:55,993 - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2025-08-11 21:11:55,998 - INFO - AFC remote call 1 is done.
received 2025-08-11 21:11:45.558507
https://hackrx.blob.core.windows.net/assets/Test%20/image%20(1).png?sv=2023-01-03&spr=https&st=2025-08-11T16%3A54%3A36Z&se=2026-08-12T16%3A54%3A00Z&sr=b&sp=r&sig=d5zWWItc5pGsRLn8Y4%2Bp5FNndQXfXBGyR22RofrX9Fc%3D
['രാഹുൽ ഗാന്ധി ഏതു വിഷയത്തിൽ ജനങ്ങളോട് അഭ്യർത്ഥിച്ചു?', '"വോട്ട് കൊള്ള" സംബന്ധിച്ച് നൽകിയിരിക്കുന്ന ഓൺലൈൻ ലിങ്ക് ഏതാണ്?']
INFO:     10.42.16.233:58090 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-11 21:11:58,399 - INFO - Document Link: https://hackrx.blob.core.windows.net/hackrx/rounds/FinalRound4SubmissionPDF.pdf?sv=2023-01-03&spr=https&st=2025-08-07T14%3A23%3A48Z&se=2027-08-08T14%3A23%3A00Z&sr=b&sp=r&sig=nMtZ2x9aBvz%2FPjRWboEOZIGB%2FaGfNf5TfBOrhGqSv4M%3D
2025-08-11 21:11:58,399 - INFO - Questions: ['What is my flight number?']
2025-08-11 21:11:58,932 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-11 21:12:00,374 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
received 2025-08-11 21:11:58.399101
https://hackrx.blob.core.windows.net/hackrx/rounds/FinalRound4SubmissionPDF.pdf?sv=2023-01-03&spr=https&st=2025-08-07T14%3A23%3A48Z&se=2027-08-08T14%3A23%3A00Z&sr=b&sp=r&sig=nMtZ2x9aBvz%2FPjRWboEOZIGB%2FaGfNf5TfBOrhGqSv4M%3D
['What is my flight number?']
4
Batches:   0%|          | 0/51 [00:00<?, ?it/s]/root/Rag_endpoint_v2/.venv/lib/python3.13/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `XLMRobertaSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
2025-08-11 21:12:02,178 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
{"answers": ["e46772"]}
['e46772']
INFO:     10.42.16.233:41662 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-11 21:12:04,553 - INFO - Document Link: https://register.hackrx.in/utils/get-secret-token?hackTeam=98769
2025-08-11 21:12:04,553 - INFO - Questions: ['Go to the link and get the secret token and return it']
2025-08-11 21:12:04,899 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
/root/Rag_endpoint_v2/.venv/lib/python3.13/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `XLMRobertaSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
/root/Rag_endpoint_v2/.venv/lib/python3.13/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `XLMRobertaSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
2025-08-11 21:12:06,524 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
received 2025-08-11 21:12:04.553318
https://register.hackrx.in/utils/get-secret-token?hackTeam=98769
['Go to the link and get the secret token and return it']
[SystemMessage(content='\n            Respond ONLY in this JSON format: {"answers": [answer1, answer2, ...]}\n            Do what the user says, answer on the basis of the provided context, summarize the answer in 1 single line when using tools dont directly return it,THE ANSWER SHOULD BE IN THE SAME LANGUAGE AS THE QUESTION,\n            if the context has factually incorrect information based on your knowledge then state that to the user, Dont do this for latest information from 2025 and beyond', additional_kwargs={}, response_metadata={}, id='929ed00a-1284-4459-8205-68f200633e67'), HumanMessage(content="the user has provided this link https://register.hackrx.in/utils/get-secret-token?hackTeam=98769 and the questions ['Go to the link and get the secret token and return it']", additional_kwargs={}, response_metadata={}, id='82be0962-85b9-4c56-b41e-27ff4684b1ac'), AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'fc_362c6308-34a4-47ea-9703-b11bf616d433', 'function': {'arguments': '{"url":"https://register.hackrx.in/utils/get-secret-token?hackTeam=98769"}', 'name': 'get_url_content'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 74, 'prompt_tokens': 357, 'total_tokens': 431, 'completion_tokens_details': None, 'prompt_tokens_details': None, 'queue_time': 0.043835741, 'prompt_time': 0.022613429, 'completion_time': 0.061535907, 'total_time': 0.084149336}, 'model_name': 'openai/gpt-oss-20b', 'system_fingerprint': 'fp_fd68d84dd3', 'id': 'chatcmpl-93bfd216-5660-4ec4-a211-17bdda36ca17', 'service_tier': 'on_demand', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run--64ab869b-704b-4b0c-92b2-bf8cd9e74c94-0', tool_calls=[{'name': 'get_url_content', 'args': {'url': 'https://register.hackrx.in/utils/get-secret-token?hackTeam=98769'}, 'id': 'fc_362c6308-34a4-47ea-9703-b11bf616d433', 'type': 'tool_call'}], usage_metadata={'input_tokens': 357, 'output_tokens': 74, 'total_tokens': 431, 'input_token_details': {}, 'output_token_details': {}}), ToolMessage(content='\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n        <title>Secret Token</title>\n        <style>\n          body {\n            margin: 0;\n            background: linear-gradient(135deg, #1f1c2c, #928dab);\n            font-family: \'Courier New\', monospace;\n            color: #fff;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            overflow: hidden;\n          }\n  \n          .box {\n            text-align: center;\n            padding: 30px;\n            border-radius: 16px;\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(12px);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n            animation: fadeIn 1s ease-in-out;\n          }\n  \n          h1 {\n            font-size: 2rem;\n            margin-bottom: 1rem;\n          }\n  \n          #token {\n            font-size: 1.5rem;\n            color: #00ffcc;\n            word-break: break-word;\n          }\n  \n          @keyframes fadeIn {\n            from { opacity: 0; transform: scale(0.95); }\n            to { opacity: 1; transform: scale(1); }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="box">\n          <h1>🔒 Your Secret Token</h1>\n          <div id="token">72cc16471be32daab70a356582548b301fc44fba91ead76fa375ac6965597e2e</div>\n        </div>\n      </body>\n      </html>\n    ', name='get_url_content', id='e7b225c0-e07b-4dfc-980b-672faa3e3f13', tool_call_id='fc_362c6308-34a4-47ea-9703-b11bf616d433'), AIMessage(content='{"answers":["72cc16471be32daab70a356582548b301fc44fba91ead76fa375ac6965597e2e"]}', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 183, 'prompt_tokens': 838, 'total_tokens': 1021, 'completion_tokens_details': None, 'prompt_tokens_details': None, 'queue_time': 0.048843877, 'prompt_time': 0.051923224, 'completion_time': 0.152157511, 'total_time': 0.204080735}, 'model_name': 'openai/gpt-oss-20b', 'system_fingerprint': 'fp_fd68d84dd3', 'id': 'chatcmpl-ad64c9d4-8451-4b98-a846-caa6744141eb', 'service_tier': 'on_demand', 'finish_reason': 'stop', 'logprobs': None}, id='run--c7061ac6-df7e-4141-94cc-b44ad7e5e460-0', usage_metadata={'input_tokens': 838, 'output_tokens': 183, 'total_tokens': 1021, 'input_token_details': {}, 'output_token_details': {}})]
INFO:     10.42.16.233:32786 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
Batches:   2%|▏         | 1/51 [00:21<17:48, 21.36s/it]Batches:   4%|▍         | 2/51 [00:39<15:55, 19.50s/it]Batches:   6%|▌         | 3/51 [00:55<14:10, 17.72s/it]Batches:   8%|▊         | 4/51 [01:12<13:50, 17.67s/it]Batches:  10%|▉         | 5/51 [01:30<13:26, 17.54s/it]Batches:  12%|█▏        | 6/51 [01:48<13:30, 18.00s/it]Batches:  14%|█▎        | 7/51 [02:03<12:28, 17.02s/it]Batches:  16%|█▌        | 8/51 [02:23<12:47, 17.84s/it]Batches:  18%|█▊        | 9/51 [02:37<11:32, 16.49s/it]Batches:  20%|█▉        | 10/51 [02:54<11:27, 16.77s/it]Batches:  22%|██▏       | 11/51 [03:11<11:12, 16.81s/it]Batches:  24%|██▎       | 12/51 [03:26<10:39, 16.41s/it]Batches:  25%|██▌       | 13/51 [03:42<10:15, 16.19s/it]Batches:  27%|██▋       | 14/51 [03:59<10:11, 16.53s/it]Batches:  29%|██▉       | 15/51 [04:16<09:52, 16.46s/it]Batches:  31%|███▏      | 16/51 [04:31<09:21, 16.05s/it]Batches:  33%|███▎      | 17/51 [04:47<09:08, 16.12s/it]Batches:  35%|███▌      | 18/51 [04:59<08:12, 14.91s/it]Batches:  37%|███▋      | 19/51 [05:16<08:18, 15.57s/it]Batches:  39%|███▉      | 20/51 [05:28<07:23, 14.32s/it]Batches:  41%|████      | 21/51 [05:45<07:33, 15.12s/it]Batches:  43%|████▎     | 22/51 [06:00<07:17, 15.09s/it]Batches:  45%|████▌     | 23/51 [06:14<06:52, 14.73s/it]Batches:  47%|████▋     | 24/51 [06:29<06:47, 15.08s/it]Batches:  49%|████▉     | 25/51 [06:44<06:31, 15.06s/it]Batches:  51%|█████     | 26/51 [07:00<06:22, 15.28s/it]Batches:  53%|█████▎    | 27/51 [07:15<06:04, 15.19s/it]Batches:  55%|█████▍    | 28/51 [07:30<05:45, 15.02s/it]Batches:  57%|█████▋    | 29/51 [07:43<05:15, 14.35s/it]Batches:  59%|█████▉    | 30/51 [07:58<05:10, 14.79s/it]Batches:  61%|██████    | 31/51 [08:13<04:51, 14.58s/it]Batches:  63%|██████▎   | 32/51 [08:28<04:40, 14.77s/it]Batches:  65%|██████▍   | 33/51 [08:42<04:24, 14.69s/it]Batches:  67%|██████▋   | 34/51 [08:55<04:00, 14.12s/it]Batches:  69%|██████▊   | 35/51 [09:07<03:34, 13.40s/it]Batches:  71%|███████   | 36/51 [09:19<03:14, 12.94s/it]Batches:  73%|███████▎  | 37/51 [09:31<02:57, 12.69s/it]Batches:  75%|███████▍  | 38/51 [09:41<02:35, 11.97s/it]Batches:  76%|███████▋  | 39/51 [09:52<02:20, 11.71s/it]Batches:  78%|███████▊  | 40/51 [10:03<02:05, 11.44s/it]Batches:  80%|████████  | 41/51 [10:14<01:52, 11.28s/it]Batches:  82%|████████▏ | 42/51 [10:27<01:47, 11.91s/it]Batches:  84%|████████▍ | 43/51 [10:37<01:29, 11.22s/it]Batches:  86%|████████▋ | 44/51 [10:48<01:17, 11.09s/it]Batches:  88%|████████▊ | 45/51 [10:58<01:04, 10.73s/it]Batches:  90%|█████████ | 46/51 [11:07<00:51, 10.30s/it]Batches:  92%|█████████▏| 47/51 [11:17<00:40, 10.21s/it]Batches:  94%|█████████▍| 48/51 [11:26<00:30, 10.03s/it]Batches:  96%|█████████▌| 49/51 [11:36<00:19,  9.81s/it]Batches:  98%|█████████▊| 50/51 [11:45<00:09,  9.54s/it]Batches: 100%|██████████| 51/51 [11:50<00:00,  8.15s/it]Batches: 100%|██████████| 51/51 [11:50<00:00, 13.92s/it]
document cached
INFO:     10.42.16.233:39824 - "GET /favicon.ico HTTP/1.1" 404 Not Found
